{"version":3,"sources":["components/HandleArticle.js","actions/validate.js","actions/keyGenerator.js","components/Article.js","components/ArticleList.js","actions/checkData.js","components/MainPage.js","App.js","serviceWorker.js","index.js"],"names":["HandleArticle","props","data","key","value","_useState","useState","head","_useState2","Object","slicedToArray","setHead","_useState3","brief","_useState4","setBrief","_useState5","content","_useState6","setContent","_useState7","_useState8","disabled","setDisabled","handleChange","e","target","name","length","validateArticle","react_default","a","createElement","className","onClick","close","onSubmit","preventDefault","publicate","comments","cols","rows","placeholder","onChange","type","generator","exclude","random","Math","floor","includes","Article","commentKeys","setCommentKeys","edit","setEdit","author","setAuthor","_useState9","_useState10","text","setText","useEffect","arrKey","forEach","item","push","comment","validateComment","removeComment","console","log","newComments","filter","el","Fragment","selector","remover","map","id","components_HandleArticle","ArticleList","position","setPosition","slice","scroll","setScroll","lib_default","next","dataLength","hasMore","endMessage","loader","height","refreshFunction","readOnlyError","element","index","checkData","localStorage","json","setItem","JSON","stringify","localData","i","parse","getItem","reverse","MainPage","setKeys","setData","article","setArticle","setPublicate","showArticle","handlePublicate","editKey","Date","now","post","newData","src_components_Article","removeItem","components_ArticleList","App","src_components_MainPage","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6bfd9e6b.chunk.js","sourcesContent":["import React, {useState} from \"react\"\r\nimport \"./NewArticle.css\"\r\nimport {validateArticle} from \"../actions/validate.js\"\r\n\r\nconst HandleArticle = (props) => {\r\n    const data = props.data || false\r\n    const key = props.value || null\r\n    const [head, setHead] = useState(data.head || \"\")\r\n    const [brief, setBrief] = useState(data.brief || \"\")\r\n    const [content, setContent] = useState(data.content || \"\")\r\n    const [disabled, setDisabled] = useState(true)\r\n\r\n    const handleChange = (e) => {\r\n        const target = e.target\r\n        const name = target.name\r\n        name === \"head\" ? setHead(target.value) :\r\n        name === \"brief\" ? setBrief(target.value) :\r\n        setContent(target.value)\r\n        setDisabled(validateArticle(head,brief,content))\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        props.publicate(head, brief, content, key, data.comments)\r\n        props.close()\r\n    }\r\n\r\n    return (\r\n        <div className=\"popup\">\r\n            <button onClick={props.close}><i className=\"fas fa-arrow-left\"></i></button>\r\n            <form onSubmit={handleSubmit}>\r\n                <textarea   name=\"head\"\r\n                            cols=\"50\" \r\n                            rows=\"1\"\r\n                            placeholder=\"Заголовок, 5-50 символов\"\r\n                            value={head}\r\n                            onChange={handleChange}>\r\n                </textarea>\r\n                <textarea   name=\"brief\" \r\n                            cols=\"50\" \r\n                            rows=\"4\"\r\n                            placeholder=\"Краткое описание, 10-200 символов\"\r\n                            value={brief}\r\n                            onChange={handleChange}>\r\n                </textarea>\r\n                <textarea   name=\"content\"\r\n                            cols=\"100\" \r\n                            rows=\"20\"\r\n                            placeholder=\"Основной контент, 150-2000 символов\"\r\n                            value={content}\r\n                            onChange={handleChange}>\r\n                </textarea>\r\n                <input      type=\"submit\" \r\n                            name=\"head\"\r\n                            disabled={disabled}>\r\n                </input>\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HandleArticle","export const validateArticle = (head, brief, content) => {\r\n    return !(\r\n    head.length >= 5 && head.length <= 50 &&\r\n    brief.length >= 10 && brief.length <= 200 &&\r\n    content.length >= 150 && content.length <= 2000\r\n    )\r\n}\r\n\r\nexport const validateComment = (author, comment) => {\r\n    return !(\r\n        author.length >=2 && author.length <= 20 &&\r\n        comment.length >=5 && author.length <= 150\r\n    )\r\n}\r\n","const min = 1\r\nconst max = 10000\r\nconst generator = (exclude) => {\r\n    const random = Math.floor(Math.random() * (max - min) + min)\r\n    return exclude.includes(random) ? generator(exclude) : random + []\r\n}\r\n\r\nexport default generator","import React, {useState, useEffect} from \"react\"\r\nimport \"./Article.css\"\r\nimport HandleArticle from \"./HandleArticle\"\r\nimport {validateComment} from \"../actions/validate.js\"\r\nimport generator from \"../actions/keyGenerator\"\r\n\r\nconst Article = (props) => {\r\n    const data = props.data.data\r\n    const key = props.data.key\r\n    const comments = data.comments\r\n    const [commentKeys, setCommentKeys] = useState([])\r\n    const [edit, setEdit] = useState(false)\r\n    const [disabled, setDisabled] = useState(true)\r\n    const [author, setAuthor] = useState(\"\")\r\n    const [text, setText] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        const arrKey = [] \r\n        comments.forEach(item => arrKey.push(item.key))\r\n        setCommentKeys(arrKey)\r\n    }, [comments.length])\r\n\r\n    const handleChange = (e) => {\r\n        const target = e.target\r\n        const name = target.name\r\n        name === \"author\" ? setAuthor(target.value) :\r\n        setText(target.value)\r\n        setDisabled(validateComment(author, text))\r\n    }\r\n\r\n    const handleSubmitComment = (e) => {\r\n        e.preventDefault()\r\n        const comment = {\r\n            key: generator(commentKeys),\r\n            author: author,\r\n            comment: text\r\n        }\r\n        comments.push(comment)\r\n        props.publicate(data.head, data.brief, data.content, key, comments)\r\n        setAuthor(\"\")\r\n        setText(\"\")\r\n    }\r\n\r\n    const removeComment = (e) => {\r\n        const target = e.target\r\n        const value = target.value\r\n        console.log(value)\r\n        \r\n        const newComments = comments.filter(el => el.key !== value)\r\n        props.publicate(data.head, data.brief, data.content, key, newComments)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <button className=\"close\" onClick={() => props.selector(null)}><i className=\"fas fa-arrow-left\"> Назад</i></button>\r\n        <button className=\"remove\" onClick={()=>props.remover(key)}><i className=\"fas fa-trash-alt\"></i></button>\r\n        <button className=\"edit\" onClick={()=>setEdit(true)}><i className=\"fas fa-pencil-alt\"></i></button>\r\n        <article className=\"open\">\r\n            <div className=\"head\">{data.head}</div>\r\n            <div className=\"content\">{data.content}</div>\r\n        </article>\r\n        <div className=\"comments\">\r\n            <div className=\"comments-count\">Комментариев: {comments.length}</div>\r\n            {comments.map(item => \r\n                <div className=\"comment\" key={item.key}>\r\n                    <button className=\"remove-comment\" value={item.key} onClick={removeComment}>Х</button>\r\n                    <div className=\"author\">{item.author}</div>\r\n                    <div className=\"content\">{item.comment}</div>\r\n                </div>\r\n            )}\r\n            <form id=\"add-comment\" onSubmit={handleSubmitComment}>\r\n                Добавить комментарий\r\n                <textarea   name=\"author\"\r\n                            cols=\"50\"\r\n                            rows=\"1\"\r\n                            placeholder=\"Ваше имя\"\r\n                            value={author}\r\n                            onChange={handleChange}>\r\n                </textarea>\r\n                <textarea   name=\"text\"\r\n                            cols=\"50\"\r\n                            rows=\"3\"\r\n                            value={text}\r\n                            placeholder=\"Комментарий\"\r\n                            onChange={handleChange}>\r\n                </textarea>\r\n                <input      type=\"submit\" \r\n                            name=\"submit\"\r\n                            placeholder=\"Заголовок\" disabled={disabled}>\r\n                </input>\r\n            </form>\r\n        </div>\r\n        {edit ? <HandleArticle data={data} publicate={props.publicate} close={()=>setEdit(false)} value={key}/>: null}\r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Article","import React, {useState, useEffect} from \"react\"\r\nimport InfiniteScroll from 'react-infinite-scroll-component'\r\n\r\nconst ArticleList = (props) => {\r\n    const data = props.data\r\n    \r\n    const [position, setPosition] = useState(5)\r\n    const [scroll, setScroll] = useState(data.slice(0, position))\r\n\r\n    useEffect(() => {\r\n        setScroll(data.slice(0, position))\r\n        console.log(scroll)\r\n    }, [position])\r\n\r\n    const refresh = () => {\r\n        data = props.data\r\n    }\r\n    \r\n    return (\r\n        <InfiniteScroll\r\n            next={()=> setPosition(position + 5)}\r\n            dataLength={position}\r\n            hasMore={position <= data.length}\r\n            endMessage={<h4>Конец</h4>}\r\n            loader={<h4>Загрузка...</h4>}\r\n            height={550}\r\n            refreshFunction={refresh}\r\n        >\r\n        {scroll.map((element, index) => \r\n            <article key={index}>\r\n                <div className=\"head\" onClick={()=>{props.selector(element.key)}}>{element.data.head}</div>\r\n                <div className=\"comments-count\">Комментариев: {element.data.comments.length}</div>\r\n                <div className=\"brief\">{element.data.brief}</div>\r\n            </article>\r\n        )}\r\n        </InfiniteScroll>\r\n    )\r\n}\r\n\r\nexport default ArticleList","import json from \"../data/data.json\"\r\n\r\n//проверка наличия данных в localStorage\r\n\r\nconst checkData = () => {\r\n    if (localStorage.length === 0) {\r\n        json.map(element => localStorage.setItem(element.key, JSON.stringify(element)))\r\n    }\r\n        \r\n    const localData = []\r\n    for(let i = 0; i < localStorage.length; i++) {\r\n        localData[i] = JSON.parse(localStorage.getItem(localStorage.key(i)))\r\n    }\r\n    return localData.reverse()\r\n}\r\n\r\nexport default checkData","import React, {useState, useEffect} from 'react';\r\nimport Article from \"./Article\"\r\nimport ArticleList from \"./ArticleList\"\r\nimport HandleArticle from \"./HandleArticle\"\r\nimport localData from \"../actions/checkData\"\r\nimport \"./MainPage.css\"\r\n\r\nconst MainPage = () => {\r\n    const [keys, setKeys] = useState([])\r\n    const [data, setData] = useState(localData)\r\n    const [article, setArticle] = useState(null)\r\n    const [publicate, setPublicate] = useState(false)\r\n    \r\n    useEffect(() => {\r\n        const arrKey = [] \r\n        data.forEach(item => arrKey.push(item.key))\r\n        setKeys(arrKey)\r\n    }, [data.length])\r\n\r\n    const showArticle = (key) => {\r\n        setArticle(key)\r\n    }\r\n\r\n    const handleRemove = (value) => {\r\n        localStorage.removeItem(value)\r\n        setData(data.filter(el => el.key !== value))\r\n        setArticle(null)\r\n    }\r\n\r\n    const handlePublicate = (head, brief, content, editKey, comments) => {\r\n        const key = editKey ? editKey : Date.now()\r\n        const post = {\r\n        key: key,\r\n        data:{\r\n            head: head,\r\n            brief: brief,\r\n            content: content,\r\n            comments: comments || []\r\n        }}\r\n        \r\n        localStorage.setItem(key, JSON.stringify(post))\r\n        const newData = localData()\r\n        setData(newData)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <header>\r\n            <div className=\"logo\">БЛОГ</div>\r\n            <button onClick={()=>setPublicate(true)}><i className=\"fas fa-plus\"></i> Написать</button>\r\n        </header>\r\n        <main>\r\n            {article !== null ? \r\n            <Article selector={showArticle} publicate={handlePublicate} remover={handleRemove} data={JSON.parse(localStorage.getItem(article))}/> : \r\n            <ArticleList   selector={showArticle} data={data}/>}\r\n            {publicate ?  <HandleArticle publicate={handlePublicate} close={()=>setPublicate(false)}/> : null}\r\n           \r\n        </main>\r\n        </>\r\n    )\r\n}\r\nexport default MainPage","import React from 'react';\nimport './App.css';\nimport MainPage from \"./components/MainPage\"\n\nconst App = () => {\n  return (\n    <>\n      <MainPage/>\n    </>\n  )\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}